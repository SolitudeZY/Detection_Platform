{% load static %}

<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="{% static 'CSS/login.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="../static/particles/particles.min.js"></script>

    <style>
        body {
            margin: 0;
            height: 100vh;
            /*background: linear-gradient(135deg, #667eea, #764ba2);*/
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 500px;
            transition: transform 0.5s ease; /* 添加过渡效果 */
        }

        .container:hover {
            transform: translate(-45%, -55%); /* 鼠标悬停时轻微上升 */
        }

        .form-group {
            margin-bottom: 15px;
        }

        .error {
            color: red;
        }

        button {
            display: block;
            width: 100%;
            margin-top: 10px;
            padding: 10px;
            background-color: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #5559d9;
        }
    </style>
</head>
<body>
    <video class="video-background" src="{% static 'video/videoplayback.mp4' %}" muted autoplay loop></video>

    <!-- 粒子背景 -->
    <div id="particles-js"></div>
    <!-- 居中容器 -->
    <div class="container">
        <h2>登录 <i class="fa-solid fa-arrow-right-to-bracket icon"></i></h2>
        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="username">用户名:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="password">密码:</label>
                <input type="password" id="password" name="password" required>
{#                <button type="button" class="reset-password">找回密码</button>#}
            </div>
            <button type="submit">登录</button>
        </form>
        <button type="button" class="register-button" onclick="window.location.href='{% url 'register' %}'">点击注册</button>
    </div>

<script>

    particlesJS('particles-js', {
    "particles": {
        "number": {
            "value": 100,
            "density": {
                "enable": true,
                "value_area": 800
            }
        },
        "color": {
            "value": "#ffffff"
        },
        "shape": {
            "type": "circle",
            "stroke": {
                "width": 0,
                "color": "#000000"
            },
            "polygon": {
                "nb_sides": 5
            },
        },
        "opacity": {
            "value": 0, // 初始设置为完全透明
            "random": false,
            "anim": {
                "enable": false,
                "speed": 1,
                "opacity_min": 0,
                "sync": false
            }
        },
        "size": {
            "value": 8,
            "random": true,
            "anim": {
                "enable": false,
                "speed": 35,
                "size_min": 0.1,
                "sync": false
            }
        },
        "line_linked": {
            "enable": false, // 禁用粒子之间的连线
        },
        "move": {
            "enable": true,
            "speed": 4,
            "direction": "none",
            "random": false,
            "straight": false,
            "out_mode": "out",
            "bounce": false,
            "attract": {
                "enable": false,
                "rotateX": 600,
                "rotateY": 1200
            }
        }
    },
    "interactivity": {
        "detect_on": "canvas",
        "events": {
            "onhover": {
                "enable": true,
                "mode": "bubble" // 使用 bubble 模式来增加透明度
            },
            "onclick": {
                "enable": true,
                "mode": "push"
            },
            "resize": true
        },
        "modes": {
            "grab": {
                "distance": 200,
                "line_linked": {
                    "opacity": 1
                }
            },
            "bubble": {
                "distance": 150, // 调整距离以控制影响范围
                "size": 1, // 保持粒子大小不变
                "duration": 2,
                "opacity": 1, // 鼠标附近粒子的目标不透明度
                "speed": 3
            },
            "repulse": {
                "distance": 100,
                "duration": 0.4
            },
            "push": {
                "particles_nb": 4
            },
            "remove": {
                "particles_nb": 2
            }
        }
    },
    "retina_detect": true
});
    </script>
</body>
</html>
